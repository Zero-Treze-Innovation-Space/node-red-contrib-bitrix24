<script type="text/javascript">
  RED.nodes.registerType("bitrix crm", {
    category: "integration",
    color: "#fff",
    defaults: {
      auth: {
        value: "",
        type: "bitrix-webhook-auth",
        required: true
      },
      module: {
        value: "contact",
        required: true
      },
      method: {
        value: "add",
        required: true
      },
      name: {
        value: "",
      },
    },
    inputs: 1,
    outputs: 1,
    icon: "icon.png",
    label: function () {
      return this.name || `bitrix ${this.method} ${this.module}`;
    },
  });
</script>

<script type="text/x-red" data-template-name="bitrix crm">
  <div class="form-row">
    <label for="node-input-auth"><i class="fa fa-user"></i> Auth</label>
    <input type="text" id="node-input-auth">
  </div>

  <div class="form-row">
    <label for="node-input-module"><i class="fa fa-bars"></i> Module</label>
    <select id="node-input-module">
      <option value="contact">Contact</option>
      <option value="lead">Lead</option>
    </select>
  </div>

  <div class="form-row">
    <label for="node-input-method"><i class="fa fa-cogs"></i> Method</label>
    <select id="node-input-method">
      <option selected value="add">Add</option>
      <option disabled value="get">Get</option>
      <option value="list">List</option>
      <option disabled value="update">Update</option>
      <option disabled value="delete">Delete</option>
    </select>
  </div>

  <div class="form-row">
      <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="bitrix crm">
  <p>Bitrix CRM</p>
</script>
